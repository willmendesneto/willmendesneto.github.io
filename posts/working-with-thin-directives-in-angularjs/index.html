<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.3"/><meta data-react-helmet="true" name="description" content="Principal Frontend-Engineer, Principal Software-Developer, Google Developer Expert Web Technologies, Microsoft MVP Developer Technologies"/><meta data-react-helmet="true" property="og:title" content="Working with Thin Directives in AngularJS"/><meta data-react-helmet="true" property="og:description" content="Principal Frontend-Engineer, Principal Software-Developer, Google Developer Expert Web Technologies, Microsoft MVP Developer Technologies"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:title" content="Working with Thin Directives in AngularJS"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:description" content="Principal Frontend-Engineer, Principal Software-Developer, Google Developer Expert Web Technologies, Microsoft MVP Developer Technologies"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><style data-href="/styles.6f085bda7eef4125a3e2.css" data-identity="gatsby-global-css">html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#333;font-family:Poppins,sans-serif;font-size:30px;font-weight:500;height:100%;line-height:1.8em;padding:20px 0 0;position:relative;width:100%}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:#fff;box-sizing:border-box;margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent;color:#333;font-weight:700}a:active,a:hover{color:#099;opacity:.8;outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:30px}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{word-wrap:break-word;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt";font-kerning:normal;font-weight:400}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dl{text-align:justify}dd,dl{margin:0 0 1.45rem}dd,dl,p{padding:0}p{margin:0 0 30px}figure{padding:0}figure,pre{margin:0 0 1.45rem}pre{word-wrap:normal;background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;overflow:auto;padding:1.45rem}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{color:#757575;margin:0 1.45rem 1.45rem;padding:20px 0 10px}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}h1,h2,h3,h4,h5,h6{color:#333}h1{font-weight:500}h2,h3,h4,h5,h6{background:transparent;display:block;font-weight:700;margin-top:40px}.gatsby-highlight{border-radius:20px;margin:10px 0 20px}.gatsby-resp-image-figcaption{margin-top:40px}.twitter-tweet{margin:10px auto}.gist{margin-bottom:30px;margin-top:30px}.gist .gist-data{padding-bottom:10px;padding-top:10px}.gist .blob-num{border-bottom:none}@media only screen and (max-width:480px){html{font-size:100%}}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><style data-styled="" data-styled-version="5.3.11">.gmJirg{font-style:normal;font-weight:900;line-height:1em;margin:50px 0 20px 0;font-size:30px;-webkit-letter-spacing:-2px;-moz-letter-spacing:-2px;-ms-letter-spacing:-2px;letter-spacing:-2px;}/*!sc*/
@media (min-width:768px){.gmJirg{font-size:50px;line-height:1em;margin:70px 0 20px 0;}}/*!sc*/
data-styled.g1[id="Title-sc-1g46602-0"]{content:"gmJirg,"}/*!sc*/
.hqFmJy{max-width:1280px;margin:0 auto;padding-top:0;}/*!sc*/
.hqFmJy h1{font-size:34px;}/*!sc*/
@media (min-width:1024px){.hqFmJy h1{font-size:50px;}}/*!sc*/
@media (min-width:1024px){.hqFmJy{padding-top:50px;}}/*!sc*/
data-styled.g2[id="Section-sc-zthcy2-0"]{content:"hqFmJy,"}/*!sc*/
.cwnsrJ{display:inline-block;text-align:left;width:40%;}/*!sc*/
data-styled.g4[id="Header__Logo-sc-160kmj-1"]{content:"cwnsrJ,"}/*!sc*/
.jXfKZt{display:inline-block;height:40px;width:20%;}/*!sc*/
@media (min-width:768px){.jXfKZt{display:none;}}/*!sc*/
.jXfKZt img{border-radius:50%;margin-bottom:0;}/*!sc*/
data-styled.g5[id="Header__LogoMobile-sc-160kmj-2"]{content:"jXfKZt,"}/*!sc*/
.bnByzQ{display:none;}/*!sc*/
@media (min-width:768px){.bnByzQ{display:inline-block;}}/*!sc*/
data-styled.g6[id="Header__LogoDesktop-sc-160kmj-3"]{content:"bnByzQ,"}/*!sc*/
.dFLEgZ{background:#fff;color:#333;margin:0 auto;padding:10px 15px;position:fixed;text-transform:uppercase;top:0;width:100%;z-index:10;box-sizing:border-box;pointer-events:auto;box-shadow:inset 0 -1px 0 rgb(230 230 230);}/*!sc*/
@media (min-width:768px){.dFLEgZ{line-height:auto;padding:15px;right:0;padding-top:2vw;padding-bottom:2vw;padding-left:4vw;padding-right:4vw;}}/*!sc*/
data-styled.g7[id="Header__Nav-sc-160kmj-4"]{content:"dFLEgZ,"}/*!sc*/
.XXQoO{position:relative;overflow-x:auto;padding-top:0;font-size:21px;}/*!sc*/
@media (min-width:1024px){.XXQoO{padding:0 20px;max-width:1280px;}}/*!sc*/
data-styled.g8[id="Header__Wrapper-sc-160kmj-5"]{content:"XXQoO,"}/*!sc*/
.eXmVxk{display:inline-block;position:absolute;right:0;}/*!sc*/
@media (min-width:768px){.eXmVxk{line-height:inherit;}}/*!sc*/
data-styled.g9[id="Header__Links-sc-160kmj-6"]{content:"eXmVxk,"}/*!sc*/
.lnGOEe{font-weight:900;color:#333;padding:0;font-size:15px;margin-right:10px;-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.lnGOEe:hover{opacity:1;-webkit-text-decoration:underline;text-decoration:underline;text-underline-offset:10px;}/*!sc*/
.lnGOEe:last-child:after{margin-right:0;}/*!sc*/
@media (min-width:768px){.lnGOEe{font-size:21px;margin-right:25px;}}/*!sc*/
data-styled.g10[id="Header__NavLink-sc-160kmj-7"]{content:"lnGOEe,"}/*!sc*/
.flYXcn{color:#000;font-size:16px;padding:15px 0;text-align:center;}/*!sc*/
data-styled.g11[id="Footer__Text-sc-14qtz8p-0"]{content:"flYXcn,"}/*!sc*/
.dvTerU{width:100%;min-height:200px;border-top:2px solid #f0f0f2;margin:75px 0 0 0;font-size:16px;text-transform:uppercase;text-align:center;box-sizing:border-box;background:#f0f0f2;}/*!sc*/
.dvTerU ul{display:block;margin:0;margin-bottom:70px;}/*!sc*/
@media (min-width:768px){.dvTerU ul{display:inline-block;vertical-align:middle;}}/*!sc*/
.dvTerU li{display:block;padding:10px;}/*!sc*/
@media (min-width:768px){.dvTerU li{display:inline-block;margin-right:25px;}}/*!sc*/
.dvTerU li a:hover{opacity:0.8;}/*!sc*/
data-styled.g12[id="Footer__PageFooter-sc-14qtz8p-1"]{content:"dvTerU,"}/*!sc*/
.ZipCz{padding:15px 7px 15px 0;margin:0 auto;width:100%;overflow:hidden;max-width:1280px;font-size:20px;line-height:1.8em;padding:30px 0 0;position:relative;vertical-align:top;}/*!sc*/
@media (min-width:768px){.ZipCz{font-size:22px;}}/*!sc*/
.ZipCz pre{border-radius:0;font-size:0.8em;}/*!sc*/
data-styled.g13[id="Layout__Wrapper-sc-xnlv4k-0"]{content:"ZipCz,"}/*!sc*/
.fNsDiC{display:inline-block;padding:15px;vertical-align:top;width:100%;}/*!sc*/
data-styled.g14[id="Layout__Main-sc-xnlv4k-1"]{content:"fNsDiC,"}/*!sc*/
.IOdOV figure{margin-bottom:1.45rem;vertical-align:middle;text-align:center;display:block;padding:0;margin:50px auto;}/*!sc*/
.IOdOV figcaption{color:#666;font-size:12px;line-height:1.5em;}/*!sc*/
@media (min-width:1024px){.IOdOV figcaption{font-size:16px;}}/*!sc*/
.IOdOV img{vertical-align:middle;aspect-ratio:auto 245 / 192;}/*!sc*/
.IOdOV p img{text-align:center;display:block;margin:20px auto;}/*!sc*/
.IOdOV p .language-text{margin-right:5px;}/*!sc*/
.IOdOV hr{border:none;background:transparent;color:#111;-webkit-letter-spacing:1em;-moz-letter-spacing:1em;-ms-letter-spacing:1em;letter-spacing:1em;text-align:center;margin-top:10px;margin-bottom:50px;}/*!sc*/
@media (min-width:768px){.IOdOV hr{margin-bottom:70px;}}/*!sc*/
.IOdOV hr:before{content:'...';}/*!sc*/
data-styled.g15[id="PostContent__PostWrapper-sc-1jf6w5a-0"]{content:"IOdOV,"}/*!sc*/
.zvPDV{color:#4e4c4c;display:block;font-style:italic;margin-bottom:20px;-webkit-letter-spacing:normal;-moz-letter-spacing:normal;-ms-letter-spacing:normal;letter-spacing:normal;line-height:1em;margin-top:10px;text-align:left;text-transform:capitalize;font-size:20px;}/*!sc*/
data-styled.g16[id="PostDate-sc-okmp83-0"]{content:"zvPDV,"}/*!sc*/
.djBsFU{border-radius:20px;background:#f0f0f2;padding:20px 10px;margin-top:40px;margin-bottom:30px;}/*!sc*/
data-styled.g17[id="Share__ShareWrapper-sc-1rx8md7-0"]{content:"djBsFU,"}/*!sc*/
.cdPxUF{cursor:pointer;color:#fff;padding:10px 20px;margin-right:20px;border-radius:10px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:10px;-webkit-transition:background-color 300ms;transition:background-color 300ms;background-color:#3b5998;border:2px solid #3b5998;}/*!sc*/
@media (min-width:768px){.cdPxUF{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:auto;}}/*!sc*/
.cdPxUF:hover{background-color:transparent;color:#3b5998;}/*!sc*/
data-styled.g18[id="Share__StyledFacebookButton-sc-1rx8md7-1"]{content:"cdPxUF,"}/*!sc*/
.jrocMe{cursor:pointer;color:#fff;padding:10px 20px;margin-right:20px;border-radius:10px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:10px;-webkit-transition:background-color 300ms;transition:background-color 300ms;background-color:#1da1f2;border:2px solid #1da1f2;}/*!sc*/
@media (min-width:768px){.jrocMe{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:auto;}}/*!sc*/
.jrocMe:hover{background-color:transparent;color:#1da1f2;}/*!sc*/
data-styled.g19[id="Share__StyledTwitterButton-sc-1rx8md7-2"]{content:"jrocMe,"}/*!sc*/
.gkTTTx{cursor:pointer;color:#fff;padding:10px 20px;margin-right:20px;border-radius:10px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:10px;-webkit-transition:background-color 300ms;transition:background-color 300ms;background-color:#3b5998;border:2px solid #3b5998;}/*!sc*/
@media (min-width:768px){.gkTTTx{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:auto;}}/*!sc*/
.gkTTTx:hover{background-color:transparent;color:#3b5998;}/*!sc*/
data-styled.g20[id="Share__StyledLinkedInButton-sc-1rx8md7-3"]{content:"gkTTTx,"}/*!sc*/
.kCYnPa{cursor:pointer;color:#fff;padding:10px 20px;margin-right:20px;border-radius:10px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:10px;-webkit-transition:background-color 300ms;transition:background-color 300ms;background-color:#128c7e;border:2px solid #128c7e;}/*!sc*/
@media (min-width:768px){.kCYnPa{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:auto;}}/*!sc*/
.kCYnPa:hover{background-color:transparent;color:#128c7e;}/*!sc*/
data-styled.g21[id="Share__StyledWhatsAppButton-sc-1rx8md7-4"]{content:"kCYnPa,"}/*!sc*/
</style><title data-react-helmet="true">Working with Thin Directives in AngularJS | Wilson Mendes</title><link href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css" rel="stylesheet"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=b897f62d006f8ad8d87b6fc5786692ba" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b897f62d006f8ad8d87b6fc5786692ba"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b897f62d006f8ad8d87b6fc5786692ba"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b897f62d006f8ad8d87b6fc5786692ba"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b897f62d006f8ad8d87b6fc5786692ba"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b897f62d006f8ad8d87b6fc5786692ba"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b897f62d006f8ad8d87b6fc5786692ba"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b897f62d006f8ad8d87b6fc5786692ba"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b897f62d006f8ad8d87b6fc5786692ba"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLBT5Z1xlFQ.woff2"/><style>@font-face{font-display:swap;font-family:Poppins;font-style:normal;font-weight:500;src:url(/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2")}@font-face{font-display:swap;font-family:Poppins;font-style:normal;font-weight:700;src:url(/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2")}@font-face{font-display:swap;font-family:Poppins;font-style:normal;font-weight:900;src:url(/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLBT5Z1xlFQ.woff2) format("woff2")}@font-face{font-display:swap;font-family:Poppins;font-style:normal;font-weight:500;src:url(/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLGT9Z1xlEw.woff) format("woff")}@font-face{font-display:swap;font-family:Poppins;font-style:normal;font-weight:700;src:url(/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLCz7Z1xlEw.woff) format("woff")}@font-face{font-display:swap;font-family:Poppins;font-style:normal;font-weight:900;src:url(/static/webfonts/s/poppins/v22/pxiByp8kv8JHgFVrLBT5Z1xlEw.woff) format("woff")}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><link rel="alternate" type="application/rss+xml" title="Will Mendes Blog RSS Feed" href="/rss.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="Header__PageHeader-sc-160kmj-0 dZmhDY"><nav class="Header__Nav-sc-160kmj-4 dFLEgZ"><section class="Section-sc-zthcy2-0 Header__Wrapper-sc-160kmj-5 hqFmJy XXQoO"><span class="Header__Logo-sc-160kmj-1 Header__LogoMobile-sc-160kmj-2 cwnsrJ jXfKZt"><a class="Header__NavLink-sc-160kmj-7 lnGOEe" href="/">WM</a></span><span class="Header__Logo-sc-160kmj-1 Header__LogoDesktop-sc-160kmj-3 cwnsrJ bnByzQ"><a class="Header__NavLink-sc-160kmj-7 lnGOEe" href="/">Wilson Mendes</a></span><div class="Header__Links-sc-160kmj-6 eXmVxk"><a active="false" class="Header__NavLink-sc-160kmj-7 lnGOEe" href="/posts/">posts</a><a active="false" class="Header__NavLink-sc-160kmj-7 lnGOEe" href="/talks/">talks</a><a active="false" class="Header__NavLink-sc-160kmj-7 lnGOEe" href="/contact/">contact</a></div></section></nav></header><div class="Layout__Wrapper-sc-xnlv4k-0 ZipCz"><main class="Layout__Main-sc-xnlv4k-1 fNsDiC"><section class="Section-sc-zthcy2-0 hqFmJy"><h1 class="Title-sc-1g46602-0 gmJirg">Working with Thin Directives in AngularJS</h1><time class="PostDate-sc-okmp83-0 zvPDV">September 23, 2014<!-- --> - <!-- -->5 min read</time><article class="PostContent__PostWrapper-sc-1jf6w5a-0 IOdOV"><div><p>AngularJS directives concept is a bit very interesting for apps, if you think in software aspects as reuse, portability, modularity, among others. However, depending on the complexity of your directive, some tests become more complex. One approach to simplify some procedures is the construction of directives based on the concept of Thin Directives. I met this concept in Joel Hooks post <a href="http://joelhooks.com/posts/2014/02/11/lets-make-full-ass-angularjs-directives/" target="_blank" rel="nofollow noopener noreferrer">“Let’s Make Full-Ass AngularJS Directives”</a>, where he discusses the concept of a very simple way. I recommend reading this, very explanatory!</p>
<p>The thin directives conception is based in construction of an angular directive using other components (as Controllers Services, factories, etc.) based on a directive for better integration and testability. With this approach the tests are much simpler, as you delegate some responsibilities to other Angular components.</p>
<p>We will create a menu as an example using a directive based in thin directive concept. Something simple, but I believe that good teaching so that everyone can better understand this new concept (for some people) and some ways to use it in your apps. The idea is that our directive can check which item is being accessed in real time from the information passed by the url.</p>
<p>For this task we will create three files to works directly with this directive:</p>
<ul>
<li><code class="language-text">navbar.html</code>: Template of our policy with the information and values ​​to be updated;</li>
<li><code class="language-text">navbar-ctrl.js</code>: Controller for our menu. He will be responsible for making the integration so that our controller works perfectly;</li>
<li><code class="language-text">navbar.js</code>: our directive really. This file is very compact, it will have only a few simple settings;</li>
</ul>
<p>Basing our directive’s building in <a href="http://pt.wikipedia.org/wiki/Test_Driven_Development" target="_blank" rel="nofollow noopener noreferrer">TDD concepts</a>, we will focus on the concept of <a href="http://www.jamesshore.com/posts/Red-Green-Refactor.html" target="_blank" rel="nofollow noopener noreferrer">Red, Green, Refactor</a>, so beyond the Thin Directives, we still have knowledge of TDD (for whom have doubts/questions about it).</p>
<h3>Creating our directive</h3>
<p>Initially we have this html code that will become the template for our application, the file with the configuration of the routes of our app and other template (file .html) that will be vinculated with the directive.</p>
<p>index.html:</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;base href="'</span> <span class="token operator">+</span> document<span class="token punctuation">.</span>location <span class="token operator">+</span> <span class="token string">'" />'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cache-control<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-cache<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>expires<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pragma<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-cache<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">ng-app</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>plunkerApp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- That's our directive --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navbar</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navbar</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- --></span>

    <span class="token comment">&lt;!-- Add your site or application content here --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span> <span class="token attr-name">ng-view</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[https://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js](https://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>angular-route.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-ctrl.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>app.js:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'plunkerApp'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token string">'ngRoute'</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$routeProvider</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $routeProvider
      <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">templateUrl</span><span class="token operator">:</span> <span class="token string">'list.html'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">controller</span><span class="token operator">:</span> <span class="token string">'ContactsCtrl'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token string">'/contacts'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">templateUrl</span><span class="token operator">:</span> <span class="token string">'list.html'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">controller</span><span class="token operator">:</span> <span class="token string">'ContactsCtrl'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">otherwise</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">redirectTo</span><span class="token operator">:</span> <span class="token string">'/'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>navbar.html:</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav nav-pills pull-right<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">ng-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{active:isActive('/')}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">ng-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{active:isActive('#/contacts')}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#/contacts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Contacts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-muted<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>THIN DIRECTIVE EXAMPLE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<p><code class="language-text">isActive()</code> method is used for NavbarCtrl controller accessing the directive, but for now we will not create the controller, but yes our directive. But we have to do some tests to validate the component and make sure everything is going correctly. Come to our test:</p>
<p>navbar-test.js:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Directive: navbar'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token comment">// load the directive's module</span>
  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'plunkerApp'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> element<span class="token punctuation">,</span>
    template<span class="token punctuation">,</span>
    httpBackend<span class="token punctuation">,</span>
    scope<span class="token punctuation">;</span>

<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token function">inject</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$rootScope<span class="token punctuation">,</span> $compile<span class="token punctuation">,</span> _$httpBackend_</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    scope <span class="token operator">=</span> $rootScope<span class="token punctuation">.</span>$<span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    httpBackend <span class="token operator">=</span> _$httpBackend_<span class="token punctuation">;</span>

template <span class="token operator">=</span> <span class="token string">'&lt;div class="header">'</span> <span class="token operator">+</span>
  <span class="token string">'&lt;ul class="nav nav-pills pull-right">'</span> <span class="token operator">+</span>
  <span class="token string">'  &lt;li ng-class="{active:{active:isActive('</span><span class="token operator">/</span><span class="token string">')}">&lt;a href="#">Home&lt;/a>&lt;/li>'</span> <span class="token operator">+</span>
  <span class="token string">'  &lt;li ng-class="{active:isActive('</span>#<span class="token operator">/</span>contacts<span class="token string">')}">&lt;a href="#/contacts">Contacts&lt;/a>&lt;/li>'</span> <span class="token operator">+</span>
  <span class="token string">'&lt;/ul>'</span> <span class="token operator">+</span>
  <span class="token string">'&lt;h3 class="text-muted">THIN DIRECTIVE EXAMPLE&lt;/h3>'</span> <span class="token operator">+</span>
<span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span>
    httpBackend<span class="token punctuation">.</span><span class="token function">whenGET</span><span class="token punctuation">(</span><span class="token string">'navbar.html'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">respond</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span>

    element <span class="token operator">=</span> angular<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span>
    element <span class="token operator">=</span> <span class="token function">$compile</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">(</span>scope<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should create a navbar header with ".header" class in element'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">'header'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should create a navbar header with ng-controller value equals "NavbarCtrl"'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'ng-controller'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">'NavbarCtrl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>And now, let’s go to create the navbar directive really.</p>
<p>navbar.js:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'plunkerApp'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'navbar'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">restrict</span><span class="token operator">:</span> <span class="token string">'E'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">templateUrl</span><span class="token operator">:</span> <span class="token string">'navbar.html'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">controller</span><span class="token operator">:</span> <span class="token string">'NavbarCtrl'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>We are using the directive with the “element” element. Now, we have some formats for directives:</p>
<ul>
<li>‘E’: Element (<navbar></navbar>);</li>
<li>‘A’: Attribute (<div navbar ></div>);</li>
</ul>
<p>These options can be combined, which opens a range of new possibilities for the more directives. ex:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'plunkerApp'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'navbar'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">restrict</span><span class="token operator">:</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token comment">// Accepts only element format</span>
      <span class="token literal-property property">templateUrl</span><span class="token operator">:</span> <span class="token string">'navbar.html'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">controller</span><span class="token operator">:</span> <span class="token string">'NavbarCtrl'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>If you have to know more about directives, please take a look in <a href="https://docs.angularjs.org/guide/directive" target="_blank" rel="nofollow noopener noreferrer">AngularJS directives documentation</a>.</p>
<h3>Our thin directive: last step</h3>
<p>Still, our test will not be correct, because we don’t have our controller created already. Let’s create it now and their respective tests.</p>
<p>navbar-ctrl-test.js:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Controller: NavbarCtrl'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// load the controller's module</span>
  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'plunkerApp'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> NavbarCtrl<span class="token punctuation">,</span>
    scope<span class="token punctuation">,</span>
    location<span class="token punctuation">;</span>

  <span class="token comment">// Initialize the controller and a mock scope</span>
  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token function">inject</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$controller<span class="token punctuation">,</span> $rootScope<span class="token punctuation">,</span> $location</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    location <span class="token operator">=</span> $location<span class="token punctuation">;</span>
    scope <span class="token operator">=</span> $rootScope<span class="token punctuation">.</span>$<span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    NavbarCtrl <span class="token operator">=</span> <span class="token function">$controller</span><span class="token punctuation">(</span><span class="token string">'NavbarCtrl'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">$scope</span><span class="token operator">:</span> scope
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'isActive'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return "true" when paths are the same'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      location<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span><span class="token function">isActive</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return "false" when paths aren'</span>t the same'<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      location<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span><span class="token function">isActive</span><span class="token punctuation">(</span><span class="token string">'/error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeFalsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return "true" when word starts are the same'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      location<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token string">'/contacts/1/edit'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span><span class="token function">isActive</span><span class="token punctuation">(</span><span class="token string">'/contacts'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return "true" when word starts are the same followed by query string'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      location<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token string">'/contacts?id=1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>scope<span class="token punctuation">.</span><span class="token function">isActive</span><span class="token punctuation">(</span><span class="token string">'/contacts'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>navbar-ctrl.js:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>

angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'plunkerApp'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'NavbarCtrl'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$scope<span class="token punctuation">,</span> $location</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $scope<span class="token punctuation">.</span><span class="token function-variable function">isActive</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> currentPath <span class="token operator">=</span> $location<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>currentPath<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        currentPath <span class="token operator">=</span> currentPath<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> currentPath <span class="token operator">===</span> path<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Now if you run the test they should be fine.</p>
<hr/>
<h3>Conclusion</h3>
<p>Thin directives are interesting for create components with middle and/or high complexity characteristics as delegates to other elements of AngularJS, improving your maintenance, testing, etc. Worth aiming for a little more advanced aspects together to the directives, attached with others AngularJS Patterns. This way, we can create an app much more modular application using the best of javascript and AngularJS.</p>
<p>If you want see this code working, I created a plunker with this example.</p>
<p>Link Plunker: <a href="http://plnkr.co/edit/UHnbq5Nn5dNLsAPxOikk?p=preview" target="_blank" rel="nofollow noopener noreferrer">http://plnkr.co/edit/UHnbq5Nn5dNLsAPxOikk?p=preview</a></p>
<p>What do you think about it? How do you uses it in your works?</p>
<p>Thanks and I see you very soon!</p>
<p>Links:</p>
<ul>
<li>Directives documentation: <a href="https://docs.angularjs.org/guide/directive" target="_blank" rel="nofollow noopener noreferrer">https://docs.angularjs.org/guide/directive</a></li>
<li>Let’s Make Full-Ass AngularJS Directives: <a href="http://joelhooks.com/posts/2014/02/11/lets-make-full-ass-angularjs-directives/" target="_blank" rel="nofollow noopener noreferrer">http://joelhooks.com/posts/2014/02/11/lets-make-full-ass-angularjs-directives/</a></li>
<li>Test Driven Development (TDD): <a href="http://pt.wikipedia.org/wiki/Test_Driven_Development" target="_blank" rel="nofollow noopener noreferrer">http://pt.wikipedia.org/wiki/Test_Driven_Development</a></li>
<li>Red, Green, Refactor: <a href="http://www.jamesshore.com/posts/Red-Green-Refactor.html" target="_blank" rel="nofollow noopener noreferrer">http://www.jamesshore.com/posts/Red-Green-Refactor.html</a></li>
</ul></div></article><div class="Share__ShareWrapper-sc-1rx8md7-0 djBsFU"><p>Share this post via:</p><span class="Share__StyledFacebookButton-sc-1rx8md7-1 cdPxUF"><button aria-label="facebook" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer">Facebook</button></span><span class="Share__StyledTwitterButton-sc-1rx8md7-2 jrocMe"><button aria-label="twitter" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer">Twitter</button></span><span class="Share__StyledLinkedInButton-sc-1rx8md7-3 gkTTTx"><button aria-label="linkedin" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer">LinkedIn</button></span><span class="Share__StyledWhatsAppButton-sc-1rx8md7-4 kCYnPa"><button aria-label="whatsapp" class="react-share__ShareButton" style="background-color:transparent;border:none;padding:0;font:inherit;color:inherit;cursor:pointer">WhatsApp</button></span></div><h3>Subscribe</h3><p>Subscribe text content here.</p></section></main></div><footer class="Footer__PageFooter-sc-14qtz8p-1 dvTerU"><ul><li><a href="https://github.com/willmendesneto" target="_blank" rel="noopener noreferrer">Github</a></li><li><a href="https://www.linkedin.com/in/willmendesneto" target="_blank" rel="noopener noreferrer">LinkedIn</a></li><li><a href="/rss.xml" target="_blank" rel="noopener noreferrer">RSS</a></li></ul><p class="Footer__Text-sc-14qtz8p-0 flYXcn">made by me with<!-- --> <span role="img" aria-label="love">❤️</span> <!-- -->since 2014</p></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-58169656-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/working-with-thin-directives-in-angularjs/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-3172c1f1e26e0aa6fbab.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-7d62fa551b40582ef423.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-71c0c39b68d0f54c22ad.js\"],\"component---src-pages-contact-js\":[\"/component---src-pages-contact-js-4bcb654f09dea386fa48.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-0e49d8ab14170be94724.js\"],\"component---src-pages-posts-js\":[\"/component---src-pages-posts-js-bca60350dc3599d59fed.js\"],\"component---src-pages-talks-js\":[\"/component---src-pages-talks-js-a4e22bc7ba21bfa7b670.js\"],\"component---src-pages-workshops-js\":[\"/component---src-pages-workshops-js-19f3b7dc89e179e9f3b7.js\"],\"component---src-templates-post-js\":[\"/component---src-templates-post-js-2e4b28094f187910da6d.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="e7cb14529e0460c117c2";</script><script src="/webpack-runtime-7f251962242639f25952.js" async></script><script src="/framework-0a5e54c64463689c5867.js" async></script><script src="/app-3172c1f1e26e0aa6fbab.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>