{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/posts/avoiding-uncaught-and-unexpected-eslint-checks-for-missing-polyfills-in-your-web-apps",
    "result": {"data":{"markdownRemark":{"html":"<blockquote>\n<p>TL;DR; this eslint rule will give you feedback if your code requires polyfills based on browser supportâ€¦ in our dev loop. Enjoy!Â ğŸ‰</p>\n</blockquote>\n<p>I've seen several Frontend teams who were facing issues related to browser support for some of our features in the past. It could be due to some implementation that requires polyfills, ending up with the code not working as expected.</p>\n<p>As an example, sometimes products were facing some issues, like <a href=\"https://stash.atlassian.com/projects/JIRACLOUD/repos/jira-frontend/pull-requests/21533/overview\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>Adding polyfill for ChildNode.remove() function</strong></a> issue that was happening with some of the Atlaskit consumers, having few of them ending up as production problems.</p>\n<p>Adding to that, other components were facing issues in the last weeks due to the lack of support for some browsers we supported (<em>did I hear</em> <strong><em>Internet Explorer</em></strong><em>?</em> ğŸ˜ ).</p>\n<p>To mitigate those types of issues in the future impacting Atlassian components and experiences, and as a <a href=\"https://bitbucket.org/atlassian/atlaskit-mk-2/pull-requests/7364/ms-2550-check-if-containsnode-is-defined/diff#comment-121061951\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>result of this main question in one of the pull requests fixing a related issue</strong></a> I added a ESlint rule to helps us on that by adding <a href=\"https://www.npmjs.com/package/eslint-plugin-compat\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>eslint-plugin-compat</strong></a> integration in Atlaskit.</p>\n<h3>ğŸ Polyfill checks in local changes and pull requests inÂ Atlaskit</h3>\n<p>The applied changes in our repository can help us to avoid issues like <a href=\"https://bitbucket.org/atlassian/atlaskit-mk-2/pull-requests/7364/ms-2550-check-if-containsnode-is-defined/diff\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>Uncaught error in IE 11</strong></a>â€Šâ€”â€Šand lots of different issues in the future due to the lack of support of a specific feature in a specific browser, and lack of awareness in ours/consumers side. Also, that gives us browser support feedback in the dev loop, boosting our Developer Experience.</p>\n<p>â€Œ</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*-CV4VXIvf80eCi_JQZywHQ.png\" alt=\"\"></p>\n<h3>ğŸ˜ A great start for us to move towards automation</h3>\n<p>Since <strong>this plugin checks only non-experimental features</strong>, this wonâ€™t cover some scenarios such as <code class=\"language-text\">Selection.containsNode()</code>(<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Selection/containsNode#Browser_compatibility\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>https://developer.mozilla.org/en-US/docs/Web/API/Selection/containsNode#Browser_compatibility</strong></a>), unfortunately.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1200/1*6Z-YznhQb_p_TSeA9mqj8Q.png\" alt=\"\"></p>\n<p>In this case, the <code class=\"language-text\">Selection</code> Typescript interface has <code class=\"language-text\">containsNode</code> method type as mandatory instead of an optional one.</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/1200/1*Nu41dmeDwDAIoqT7vS5QMg.png\" alt=\"\"></p>\n<p>This plugin list can be used in combination of other techniques to cover the issue properly. Visual, integration, end-to-end tests can be added in the codebase, and specific validation for polyfills and/or experimental features as well. A small, but huge win!</p>\n<p>With all the polyfills in a list in ourÂ <code class=\"language-text\">.eslintrc.js</code>, we can make sure the internal and external consumers will have the proper polyfills added on their bundleâ€Šâ€”â€Šperhaps create some automation for it in the future. Iâ€™m quite happy to share that now <a href=\"https://bitbucket.org/atlassian/atlaskit-mk-2/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>Atlaskit monorepo</strong></a> is using this new rule with for more than a week successfully so far. ğŸ‰</p>\n<blockquote>\n<p>You can find more details about the polyfills list used across all the Atlaskit packages by looking the <code class=\"language-text\">polyfills</code>` <strong>list</strong> <a href=\"https://bitbucket.org/atlassian/atlaskit-mk-2/src/master/.eslintrc.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>on the</strong></a> <code class=\"language-text\">[.eslintrc.js](https://bitbucket.org/atlassian/atlaskit-mk-2/src/master/.eslintrc.js)</code> <a href=\"https://bitbucket.org/atlassian/atlaskit-mk-2/src/master/.eslintrc.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>of theÂ project</strong></a><strong>.</strong></p>\n</blockquote>\n<hr/>\n<h3>ğŸ›£ Next steps: up to us, up toÂ you</h3>\n<p>Thatâ€™s the first step to avoid issues with polyfills in Atlaskit packages and products. As described previously, the first step is to create awareness across teams about specific features that require some polyfills, and automation for these integrations across repositories and consumers.</p>\n<p>As a next step, anyone can work on some automation to create, publish, update our Atlaskit documentation sharing the necessary polyfills per packages, and adding them into our products.</p>\n<p>Of course, thatâ€™s just an idea, but the mechanics of it is totally up to us, and up to you and your teamâ€Šâ€”â€Šin your case. Definitely a <strong>HUGE</strong> step for us to solve, and mitigate any possible problem your WebApp can face because of lack of polyfills ğŸ’ƒğŸ’ƒğŸ’ƒğŸ’ƒ</p>\n<p>And now a gif, because we all love gifs ğŸ˜‰</p>\n<p><img src=\"https://cdn-images-1.medium.com/max/800/1*7t6OzRBjQGnoKQEbcIw0iQ.gif\" alt=\"\"></p>\n<p><strong><em>Cya ğŸ‘‹</em></strong></p>","frontmatter":{"date":"February 07, 2020","path":"/posts/avoiding-uncaught-and-unexpected-eslint-checks-for-missing-polyfills-in-your-web-apps","title":"Avoiding Uncaught and unexpectedâ€Šâ€”â€ŠESLint checks for missing polyfills in your web apps","tags":["javascript","frontend","tooling"]},"timeToRead":3}},"pageContext":{}},
    "staticQueryHashes": ["1559850390","63159454"]}