{"componentChunkName":"component---src-templates-post-js","path":"/posts/ngx-feature-toggle-flexible-user-management-and-page-access-control-for-angular-apps/","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1280px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5c373757971ab086518bc7bc4fe41047/9f758/feature-toggle.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.5625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAzklEQVR42o1R2wqDMBTz/7/F33Cv2x5EGE4FC15qrTq12lqzWraxCxsLhJae05AQBzest1OoBfwyQIwjRkPOuaWU8mVxXVfLdzjvgp1UyBhH1zbI88IwR5IkoJRi53k4hSG6GdD6U+xF8BmNcVQUBbIsA2MMdV3D9324rov98YAwTnEOApQlfbj9KriNFq2hlLLcogohEEWRvWszk2IEi2PwpvkueH9saQcSE7PMUVUV0jS1cQkhH5//iryYUiYxoR96G3eeZ+vsUQp+l3IFsJfScvpauV0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5c373757971ab086518bc7bc4fe41047/fb34c/feature-toggle.avif 320w,\n/static/5c373757971ab086518bc7bc4fe41047/646cd/feature-toggle.avif 768w,\n/static/5c373757971ab086518bc7bc4fe41047/8b485/feature-toggle.avif 1024w,\n/static/5c373757971ab086518bc7bc4fe41047/a73d6/feature-toggle.avif 1280w,\n/static/5c373757971ab086518bc7bc4fe41047/a7f9f/feature-toggle.avif 1920w,\n/static/5c373757971ab086518bc7bc4fe41047/d79cb/feature-toggle.avif 2450w\"\n              sizes=\"(max-width: 1280px) 100vw, 1280px\"\n              type=\"image/avif\"\n            /><source\n              srcset=\"/static/5c373757971ab086518bc7bc4fe41047/cb523/feature-toggle.webp 320w,\n/static/5c373757971ab086518bc7bc4fe41047/cd067/feature-toggle.webp 768w,\n/static/5c373757971ab086518bc7bc4fe41047/53334/feature-toggle.webp 1024w,\n/static/5c373757971ab086518bc7bc4fe41047/4b075/feature-toggle.webp 1280w,\n/static/5c373757971ab086518bc7bc4fe41047/f3ff0/feature-toggle.webp 1920w,\n/static/5c373757971ab086518bc7bc4fe41047/bfda4/feature-toggle.webp 2450w\"\n              sizes=\"(max-width: 1280px) 100vw, 1280px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5c373757971ab086518bc7bc4fe41047/d4f27/feature-toggle.png 320w,\n/static/5c373757971ab086518bc7bc4fe41047/778aa/feature-toggle.png 768w,\n/static/5c373757971ab086518bc7bc4fe41047/658fc/feature-toggle.png 1024w,\n/static/5c373757971ab086518bc7bc4fe41047/26c69/feature-toggle.png 1280w,\n/static/5c373757971ab086518bc7bc4fe41047/7d442/feature-toggle.png 1920w,\n/static/5c373757971ab086518bc7bc4fe41047/9f758/feature-toggle.png 2450w\"\n            sizes=\"(max-width: 1280px) 100vw, 1280px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5c373757971ab086518bc7bc4fe41047/26c69/feature-toggle.png\"\n            alt=\"feature toggle\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<blockquote>\n<p>TL;DR; You can start using <a href=\"http://bit.ly/ngx-feature-toggle\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">NGX Feature Toggle</a> module in your Angular apps right now and get the built-in performance, flexibility and extensibility benefits. Support the project by starring the Github repository and enjoy!¬†üéâ</p>\n</blockquote>\n<hr />\n<p>** Feel free to play with the online demos powered by Stackblitz <a href=\"https://stackblitz.com/edit/ngx-skeleton-loader-sample\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><strong>https://stackblitz.com/edit/ngx-skeleton-loader-sample</strong></a></p>\n<h3>Introduction</h3>\n<p>Feature Toggle is a common concept in software development. You might also find this content covered with other names, such as <em>Feature Flags</em> or mixed/combined with other concepts, such as <em>Feature Business</em>. Even though these are different names and perhaps, integrated in different scenarios, they have its roots on the same core concept: <em>release early, release often</em>.</p>\n<blockquote>\n<p>Being empathetic over being right is the key sometimes ‚ù§Ô∏è</p>\n</blockquote>\n<p>Keep in mind this crucial concept: anything, absolutely <em>anything</em> in software development is documented, created and integrated based on release product improvements in any level to customers as quick as possible without compromising user experience and platform relieability. Development experience, Accessibility, Performance and such are there with this goal. It also means that anything that might not be helpful or can make this a painful process should be revisited.</p>\n<h3>Problem statement in Frontend</h3>\n<p>Let's start with the first question related to that level of integration, which is:</p>\n<blockquote>\n<p>Why using a module, package or library instead solve it via server-side rendering?</p>\n</blockquote>\n<p>The idea of this - and any other - module is to bring transparency and flexibility to this step as much as possible. So the main point is integrate this module with other level of tooling, process, such as:</p>\n<ul>\n<li>Server-side rendering;</li>\n<li>Progressive rendering;</li>\n<li>Integration with third-party platforms, such as Launchdarkly, among others;</li>\n<li>Any other that you like :)</li>\n</ul>\n<p>As an example, you can integrate with WebSockets or handling this in a EventSourcing architecture. It's totally transparent for you and you can integrate easier in your application.</p>\n<p>At the end, NGX Feature Toggle is covering the scenarios related to Angular, the framework, not the core concepts which are - and for few scenarios should not - be covered by such integration.</p>\n<h3>Using Feature Toggles to improve Leading time</h3>\n<p>Feature toggle is a good approach to integrate your teams with a different mindset, moving towards continuous deployment applications. With that, you can still ship features that require other integrations in different layers of your app or even turn off some experimental feature in case of production issues.</p>\n<p>So that, several applications running in different environments, such as web, mobile, embedded and others, can now have their code shipped with even more confidence and avoiding long issues running in production when they could just be something turned off via code.</p>\n<h3>Toggles x Business: Understanding the scenarios</h3>\n<p>Therefore you might find these 2 concepts mixed across apps, it's good - and totally worth it - to know the difference conceptually.</p>\n<p>Feature Toggle is totally about delivery. In a scenario of a new feature, for example, you should define the release strategy. It should cover different things, but in summary releasing features should cover these points:</p>\n<ul>\n<li>Feature should have definition of success. It can be error rates, user conversion, etc.;</li>\n<li>Feature should be implemented having in mind it's feature toggles to be turned on/off during the ship process;</li>\n<li>Feature should be released to all application environments. This new features should be released turned off by default, having this value changed per environment after release strategy validation;</li>\n<li>Feature should be tested and turned on in test environment. It can be for a specific list of team members or for everyone using the test environment;</li>\n<li>Feature should be released to production environments following the release process. It can be all or nothing approach (like turning on the feature for every single user) or using progressive rollout until reach all customers;</li>\n<li>Feature toggle should be removed after all the checks have passed and integration is working as expected in production;</li>\n</ul>\n<p>Good to keep in mind that every single feature toggle should have time-to-live. It means they will be removed after release and having the feature running in production with success after some predefined timeframe.</p>\n<hr />\n<p>On the other hand, Feature Business are more related to features that need to be enabled in some specific and predefined time range. A good example of that are related to some specific features you can find in e-commerce apps during Black Friday or any other sales they're promoting to their customers. These feature flags won't be removed and they're totally connected to the business rules related to the application's domain. Of course there's more, but that's the main difference between them in its core.</p>\n<h3>NGX-Feature Toggle: Components, Directives And Route Guards</h3>\n<p>Specifically about <code class=\"language-text\">NGX-Feature-Toggle</code> library, some decisions were applied to make this process smooth, adding even more benefits for consumers which are using it. As an example, instead of exposing services and enforce integrations with specific libraries such as RXJS, Signals, and others, everything is a component.</p>\n<p>It means that this management level can be done using different approaches, adding flexibility to the released code and another level of possibilities and integrations to consumers!</p>\n<p>Here's a list of components and directives you might find available on <code class=\"language-text\">NGX-Feature-Toggle</code> library:</p>\n<ul>\n<li><code class=\"language-text\">feature-toggle-provider</code>: Handle with feature toggle configuration in your application. It adds the default values of your enabled/disabled features;</li>\n<li><code class=\"language-text\">*featureToggle</code>: Directive that handles with feature toggle check. So that, the component will be rendered/removed based on the feature toggle configuration is enabled;</li>\n<li><code class=\"language-text\">*featureToggleWhenDisabled</code>: Directive that handles with feature toggle check. So that, the component will be rendered/removed when the feature toggle configuration is disabled;</li>\n</ul>\n<p>And here's a sample showing the components and directives in action.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Component</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token operator\">:</span> <span class=\"token string\">'component-docs'</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;feature-toggle-provider [features]=\"featureToggleData\">\n      &lt;div *featureToggle=\"'enableSecondText'\">\n        &lt;p>condition is true and \"featureToggle\" is enabled.&lt;/p>\n      &lt;/div>\n      &lt;div *featureToggle=\"'enableFirstText'\">\n        &lt;p>condition is false and \"featureToggle\" is disabled. In that case this content should not be rendered.&lt;/p>\n      &lt;/div>\n      &lt;div *featureToggle=\"'!enableFirstText'\">\n        &lt;p>\n          condition is false and \"featureToggle\" is disabled\n          &lt;b>but it has \"!\" as a prefix of the feature toggle to be checked.&lt;/b>\n          In that case this content should be rendered.\n        &lt;/p>\n      &lt;/div>\n      &lt;div\n        class=\"combined-feature-toggles-with-truthly-option\"\n        *featureToggle=\"['!enableFirstText', 'enableSecondText']\"\n      >\n        &lt;p>\n          This is a combined condition. It shows if &lt;b>enableSecondText&lt;/b> is true and &lt;b>enableFirstText&lt;/b> is falsy,\n          but it has \"!\" as a prefix. If both cases are correct, then the \"featureToggle\" is enabled and rendering this\n          component.\n        &lt;/p>\n      &lt;/div>\n    &lt;/feature-toggle-provider>\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ComponentDocsComponent</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> featureToggleData<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>k<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    enableFirstText<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    enableSecondText<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr />\n<p>In some scenarios when you need to prevent the route to be loaded, you can use <code class=\"language-text\">NgxFeatureToggleCanLoadGuard</code>, by passing the class and configuration of the feature toggle to be checked in your route data.</p>\n<p>You might have some specific requirements that you should redirect a user to a specific route in case of a feature flag is disabled. For that, you can use <code class=\"language-text\">redirectTo</code> as a mechanism to redirect a user in a specific route when it tries to access in a route with a <code class=\"language-text\">CanActivate</code>/<code class=\"language-text\">CanActivateChild</code>/<code class=\"language-text\">CanLoad</code> Feature Toggle Guard and the feature toggle is disabled.</p>\n<p>For advanced scenarios you can use a combination of route guards AND redirects. E.G.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token literal-property property\">routes</span><span class=\"token operator\">:</span> Routes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'customer'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> CustomerComponent<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">canLoad</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>NgxFeatureToggleRouteGuard<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">canActivate</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>NgxFeatureToggleRouteGuard<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">canActivateChild</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>NgxFeatureToggleRouteGuard<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// This is the featureToggle configuration for</span>\n    <span class=\"token comment\">// the parent component</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">featureToggle</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'enableCustomerPage'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// If feature toggle is disabled, the user will be redirected to `/error` URL</span>\n      <span class=\"token literal-property property\">redirectTo</span><span class=\"token operator\">:</span> <span class=\"token string\">'/error'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">':id'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> CustomerDetailComponent<span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// This is the featureToggle configuration for</span>\n        <span class=\"token comment\">// the child component. It can also use</span>\n        <span class=\"token comment\">// a combination of feature toggles</span>\n        <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">featureToggle</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'enableCustomerPage'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'!enableChildrenNavigation'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">// If one (or all of them) of the feature toggle is disabled, the user will be redirected to `/customer-error` URL</span>\n          <span class=\"token comment\">// Note that you can use redirects for the main url and their children</span>\n          <span class=\"token literal-property property\">redirectTo</span><span class=\"token operator\">:</span> <span class=\"token string\">'/customer-error'</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<h3>Bundle and package size¬†matters</h3>\n<p>Bundle and package sizes are always important and this is something to always keep in mind when thinking about this module.</p>\n<p>The module supports routes guards, redirects, component composition, third-party integrations and more feature with an impressive bundle size of 1.69KB and the package has 104kB to be installed in an application. That's massive! üéâ</p>\n<h3>That‚Äôs all for¬†now</h3>\n<p>Stay tuned because this is not the end, it's just the beginning. Let's keep building awesome stuff and have <strong><em>#ngxFun</em></strong> üöÄ</p>\n<p>I hope you enjoyed this reading as much as I enjoyed writing it. Thank you so much for reading until the end and see you soon!</p>\n<hr />\n<h3>Cya üëã</h3>","frontmatter":{"date":"April 24, 2023","path":"/posts/ngx-feature-toggle-flexible-user-management-and-page-access-control-for-angular-apps","title":"NGX-Feature-Toggle‚Ää‚Äî‚ÄäFlexible User Management and Page Access control for Angular Apps","tags":["frontend","angular","open-source","module","tooling","performance","architecture"],"status":"active"},"timeToRead":6}},"pageContext":{"postPath":"/posts/ngx-feature-toggle-flexible-user-management-and-page-access-control-for-angular-apps"}},"staticQueryHashes":["1271460761","63159454"],"slicesMap":{}}